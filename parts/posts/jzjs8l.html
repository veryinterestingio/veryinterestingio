<li class="post" data-handle="jzjs8l">
	<div class="overview">
		<a class="source" href="https://www.reddit.com/r/explainlikeimfive/comments/jzjs8l/eli5_how_in_the_world_does_zipping_a_file_work/" target="_blank" title="Reddit thread where this comes from"><i class="fa fa-external-link" aria-hidden="true"></i></a>
		<h2>
			<span class="tags tag-Technology">Technology</span>
			<a href="/posts/jzjs8l" onclick="return false">How in the world does zipping a file work? How can a much smaller file still contain all the same information as multiple, larger files?</a>
		</h2>
		<!--<span class="date">2020-11-26</span>-->
		<span class="is-new">NEW</span>
	</div>

		<div class="question"><span class="qa" title="Question">Q:</span><div class="markdown"><p>ELI5: How in the world does zipping a file work? How can a much smaller file still contain all the same information as multiple, larger files?</p></div></div>

	<div class="comment-section">
		<div class="answers-placeholder">
			<div class="answers">
	<div class="answer" data-handle="gdc76zq">
		<a class="author" href="https://www.reddit.com/user/Moskau50" target="_blank">Moskau50</a>
		<span class="qa" title="Answer">A:</span><div class="markdown"><p>Large file:<br />
AAAAAAAAAAAAAAAAAAAABBBBBCCCCCCCCCC<br />
AAAAAAAAAAAAAAABBBBBBBBBBCCCCCCCCCC</p>
<p>Small file:<br />
20A5B10C<br />
15A10B10C</p>
<p>If the program (Winzip or 7zip) can interpret the small file’s “code”, it can reproduce the large file at any time just from the small file’s instructions.</p></div>		<div class="replies-controls">
			<a class="show-replies" href="javascript:void(0)">show replies...</a>
			<a class="hide-replies" href="javascript:void(0)">hide replies...</a>
		</div>
		<div class="replies-placeholder"></div>
	</div>
	<a class="less-answers upper" href="javascript:void(0)">less answers...</a>
	<div class="answer" data-handle="gdclmbb">
		<a class="author" href="https://www.reddit.com/user/ShelfordPrefect" target="_blank">ShelfordPrefect</a>
		<span class="qa" title="Answer">A:</span><div class="markdown"><p>&quot;Lossless&quot; compression like ZIP: identify patterns and repeated sequences in the data, replace them with a smaller sequence so there is less redundancy or unneeded data in the resulting file. Replace all my &quot;the&quot; in the previous sentence with &quot;3&quot;, &quot;re&quot; with &quot;R&quot; and double letters with the upper case version and you get</p>
<blockquote>
<p>LoSleS comPRSion: Rplace 3m with a smaLer sequence so 3re is leS Rdundancy or uNEded data in 3 Rsult</p>
</blockquote>
<p>&quot;Lossy&quot; compression, like MP3 and JPG: having studied how humans perceive images or sounds, throw out the least important data which doesn't affect how a person will interpret the result very much.</p>
<p>JPEG splits an image into 8x8 pixel blocks and records how the colour changes across that block, not the exact colour at every one of the 64 pixels. MP3 loses some very high frequency information which mostly doesn't change the sound because humans can only barely hear it.</p></div>		<div class="replies-controls">
			<a class="show-replies" href="javascript:void(0)">show replies...</a>
			<a class="hide-replies" href="javascript:void(0)">hide replies...</a>
		</div>
		<div class="replies-placeholder"></div>
	</div>
	<div class="answer" data-handle="gde50rb">
		<a class="author" href="https://www.reddit.com/user/horse_neck" target="_blank">horse_neck</a>
		<span class="qa" title="Answer">A:</span><div class="markdown"><p>Let's zip your question:  How_ in the* world does zipping a file% work? _ can a much smaller % still contain all * same information as multiple, larger %s?</p>
<p>We zipped your question from 136 down to 130 characters by encoding repeated words with single characters (&quot;How&quot; with &quot;_&quot;,  &quot;the&quot; with &quot;*&quot; and &quot;file&quot; with &quot;%&quot;).</p>
<p>There are many smarter ways to compress files. Also, large files have a lot more repeated patterns.</p></div>		<div class="replies-placeholder"></div>
	</div>
	<div class="answer" data-handle="gdclxiq">
		<a class="author" href="https://www.reddit.com/user/NuftiMcDuffin" target="_blank">NuftiMcDuffin</a>
		<span class="qa" title="Answer">A:</span><div class="markdown"><p>The most commonly used algorithm for zipping files uses two things:</p>
<p>First, it looks for duplicates: The program reads through the text, and if it finds a word or sequence of words that were used before, it  replaces the entire thing with a number pointing to the location where it was first used. </p>
<p>So for example &quot;this is a duplicate duplicate&quot; would become &quot;this is a duplicate 10 9&quot;. Now to restore the text, you have to go back 10 characters in the text and take 9 characters from there.</p>
<p>In the second step, it tries to reduce the amount of space that is used for each letter. To do that, it uses a so called <em>binary tree</em>, which is going a bit beyond eli5. The simple version is: Normally, text is represented as single string of 1s and 0s, without spaces or anything else inbetween. In order to make sense of this, every character needs to be the exact same size - typically 8 bit. This way, the computer knows that every 8 bit there is a new letter. The binary tree is another way to solve that problem. It allows frequent characters such as the space ' ' or the 'e' to be shortened to just 3 bits - but to make that possible, some characters like the 'Y' might become 10 bits instead.</p>
<p>Now obviously, both of these only work for data that is highly repetitive like text and also program code. But for other media types, this is inefficient, which is why there are specific image, video and music compression formats (which are usually waaaay more complicated than this).</p></div>		<div class="replies-controls">
			<a class="show-replies" href="javascript:void(0)">show replies...</a>
			<a class="hide-replies" href="javascript:void(0)">hide replies...</a>
		</div>
		<div class="replies-placeholder"></div>
	</div>
	<div class="answer" data-handle="gdc9jse">
		<a class="author" href="https://www.reddit.com/user/KapteeniJ" target="_blank">KapteeniJ</a>
		<span class="qa" title="Answer">A:</span><div class="markdown"><p>From a very far-away view, it works by the virtue of data you handle not being random. Every compression algorithm, when given random data, would result in larger filesize. But your pictures, text documents and such are not random. They are in many ways predictable and with structure into them.</p>
<p>For example, text documents use 7 or 8 bits per character, and with those bits you can display 128 or 256 different characters. But just the fact that it's a text document means it probably has majority of its characters are letters and whitespace, maybe punctuation. That's only about 60 characters, so if you are smart, you can probably use only 6 bits per character majority of the time.</p>
<p>Further, words are not random either. There have been studies about this and in English language literature, each character only has about 2 bits of information to them. So 8 bits could be turned into two.</p>
<p>Further, many programs use even more rigid preambles or structures as they save files to notate where their stuff is, yet again making the text more predictable.</p>
<p>As a result, especially text compresses extremely well. You should note that I did not tell how to use this predictability, but it should be helpful in reading other explanations, to keep in mind that it's all about leveraging the fact that the data is not random.</p>
<p>As an anti-example, mp3 or video files compress exceedingly poorly, almost none at all, as they are already compressed quite well, and as a result, the data in video and picture files tends to be very close to perfectly random.</p>
<p>And if you want to see zipping produce larger file than original, <a href="https://www.random.org/bytes/" target="_blank">https://www.random.org/bytes/</a> should work. Save random bytes to a file, and try to zip it.</p></div>		<div class="replies-controls">
			<a class="show-replies" href="javascript:void(0)">show replies...</a>
			<a class="hide-replies" href="javascript:void(0)">hide replies...</a>
		</div>
		<div class="replies-placeholder"></div>
	</div>
</div>		</div>
		<div class="more-less">
			<a class="collapse" href="javascript:void(0)">collapse</a>
			<a class="more-answers" href="javascript:void(0)">4 more answers...</a>
			<a class="less-answers lower" href="javascript:void(0)">less answers...</a>
			&nbsp;
		</div>
	</div>
	<a class="show" href="/posts/jzjs8l" onclick="return false"><span>show</span></a>
</li>
