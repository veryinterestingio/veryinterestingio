<!DOCTYPE html>
<html lang="en">
<head>
	<link rel="stylesheet" type="text/less" href="/css/post.less">
	
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="shortcut icon" type="image/png" href="/img/cat.jpg"/>
	<script src="https://code.jquery.com/jquery-2.2.4.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/less.js/2.5.3/less.min.js"></script>
	<link href="https://fonts.googleapis.com/css?family=Roboto:400,700" rel="stylesheet">
	<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">

	<script>
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

		ga('create', 'UA-58440568-4', 'auto');
		ga('send', 'pageview');
	</script>

	<!-- Cookie Consent plugin by Silktide - http://silktide.com/cookieconsent -->
	<script type="text/javascript">
    window.cookieconsent_options = {"message":"This website uses cookies to ensure you get the best experience on our website","dismiss":"Got it!","learnMore":"More info","link":null,"theme":"dark-bottom"};
	</script>
	<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/1.0.10/cookieconsent.min.js"></script>
	<title>ELI5: How does Spotify codes work if the design is so simple?</title>
</head>
<body>
	<div id="header">
	<a href="/about" title="About">About</a>
</div>
	<div id="content">
		<div class="home">
			<a href="/">Back to Home</a>
		</div>

		<ul class="posts">
<li class="post" data-handle="irpfly">
	<div class="overview">
		<a class="source" href="https://www.reddit.com/r/explainlikeimfive/comments/irpfly/eli5_how_does_spotify_codes_work_if_the_design_is/" target="_blank" title="Reddit thread where this comes from"><i class="fa fa-external-link" aria-hidden="true"></i></a>
		<h2>
			<span class="tags tag-Technology">Technology</span>
			<a href="/posts/irpfly" onclick="return false">How does Spotify codes work if the design is so simple?</a>
		</h2>
		<!--<span class="date">2020-09-16</span>-->
		<span class="is-new">NEW</span>
	</div>

		<div class="question"><span class="qa" title="Question">Q:</span><div class="markdown"><p>If you don’t know what I’m talking about it’s this <a href="https://community.spotify.com/t5/Subscriptions/QR-Codes-for-tattoo/td-p/4693922" target="_blank">here</a> People can draw them on paper and they still work. They seem to work well and are very simplistic. And there are over 50 millions songs on Spotify, and infinite playlists. How does this work?</p></div></div>

	<div class="comment-section">
		<div class="answers-placeholder">
			<div class="answers">
	<div class="answer" data-handle="g519zay">
		<a class="author" href="https://www.reddit.com/user/Delantier" target="_blank">Delantier</a>
		<span class="qa" title="Answer">A:</span><div class="markdown"><p>This is the patent: <a href="https://data.epo.org/publication-server/rest/v1.0/publication-dates/20190220/patents/EP3444755NWA1/document.pdf" target="_blank">https://data.epo.org/publication-server/rest/v1.0/publication-dates/20190220/patents/EP3444755NWA1/document.pdf</a>. </p>
<p>From the patent, here's basically what happens. There are identifying marks in the code that let the software figure out the relative size of each bar. The tallest bar is in the middle, and the leftmost and rightmost bar are the shortest. Then, the other bars are ranked from 0 to 7 on how tall they are in relation to the references.</p>
<p>It seems like Spotify is using 23 bars as standard, but the patent notes these can be arbitrarily large. Currently, that leaves us with 8^20 different combinations. A parsed code looks like: 53526254731226474112</p>
<p>This is actually tiny when dealing with URLs. For example, that is not enough to encode the URL &quot;<a href="https://www.reddit.com/r/explainlikeimfive/comments/irpfly/eli5_how_does_spotify_codes_work_if_the_design_is/" target="_blank">https://www.reddit.com/r/explainlikeimfive/comments/irpfly/eli5_how_does_spotify_codes_work_if_the_design_is/</a>&quot;. The patent refers to using a random number or index counter that is associated on the server with the code. Essentially, this means that somewhere, there is a massive table that contains all the codes generated and links them to what they are supposed to refer you to.</p>
<p>Note: This sounds really inefficient because there's a table running out there with at least 50 million code-song pairs, and more likely billions because of profiles, playlists, etc. In actuality, there are very efficient ways of dealing with this problem, and while billions sounds like a lot, on an enterprise scale, it's minuscule.</p></div>		<div class="replies-controls">
			<a class="show-replies" href="javascript:void(0)">show replies...</a>
			<a class="hide-replies" href="javascript:void(0)">hide replies...</a>
		</div>
		<div class="replies-placeholder"></div>
	</div>
	<a class="less-answers upper" href="javascript:void(0)">less answers...</a>
	<div class="answer" data-handle="g50vjhm">
		<a class="author" href="https://www.reddit.com/user/OwlPlayIt" target="_blank">OwlPlayIt</a>
		<span class="qa" title="Answer">A:</span><div class="markdown"><p>There are over 20 lines of varying sizes in one of those. You can arrange 20 things in over 2 quintillion ways (2 followed by 18 zeroes).</p>
<p>Spotify has a long way to go before they run out of codes. If they do, they can just add another line in the code, and now they have 3 more quintillion codes.</p>
<p>Edit: yes I was too lazy to count the actual number of lines.</p></div>		<div class="replies-controls">
			<a class="show-replies" href="javascript:void(0)">show replies...</a>
			<a class="hide-replies" href="javascript:void(0)">hide replies...</a>
		</div>
		<div class="replies-placeholder"></div>
	</div>
	<div class="answer" data-handle="g516td4">
		<a class="author" href="https://www.reddit.com/user/superbob201" target="_blank">superbob201</a>
		<span class="qa" title="Answer">A:</span><div class="markdown"><p>There are 23 bars, that can have 8 different sizes. The first and last bar are always the smallest size, and the middle bar is always the largest size (this is done for calibration). That leaves 20 'information' bars with 8 possibilities each, which can have 8\^20 unique combinations.</p></div>		<div class="replies-controls">
			<a class="show-replies" href="javascript:void(0)">show replies...</a>
			<a class="hide-replies" href="javascript:void(0)">hide replies...</a>
		</div>
		<div class="replies-placeholder"></div>
	</div>
</div>		</div>
		<div class="more-less">
			<a class="collapse" href="javascript:void(0)">collapse</a>
			<a class="more-answers" href="javascript:void(0)">2 more answers...</a>
			<a class="less-answers lower" href="javascript:void(0)">less answers...</a>
			&nbsp;
		</div>
	</div>
	<a class="show" href="/posts/irpfly" onclick="return false"><span>show</span></a>
</li>
		</ul>
	</div>

	<script>
		var config = {"stream":{"initial":10,"catchup":5},"api":{"url":"api.veryinteresting.io"}};
	</script>
	<script src="/js/project.js"></script>
	<script src="/js/post.js"></script>
</body>
</html>